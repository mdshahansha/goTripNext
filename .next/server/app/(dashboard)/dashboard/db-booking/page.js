(()=>{var e={};e.id=381,e.ids=[381],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},2833:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=s(482),r=s(9108),l=s(2563),i=s.n(l),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(a,o);let d=["",{children:["(dashboard)",{children:["dashboard",{children:["db-booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5576)),"/Users/mohammadshahansha/Downloads/flight-booking-template/app/(dashboard)/dashboard/db-booking/page.jsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,3472)),"/Users/mohammadshahansha/Downloads/flight-booking-template/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,9195)),"/Users/mohammadshahansha/Downloads/flight-booking-template/app/not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/mohammadshahansha/Downloads/flight-booking-template/app/(dashboard)/dashboard/db-booking/page.jsx"],h="/(dashboard)/dashboard/db-booking/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/dashboard/db-booking/page",pathname:"/dashboard/db-booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2136:(e,a,s)=>{Promise.resolve().then(s.bind(s,8820)),Promise.resolve().then(s.bind(s,9764)),Promise.resolve().then(s.bind(s,8954))},8820:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5344),r=s(9410),l=s(6506),i=s(333),n=s(8428);let o=()=>{let e=(0,n.usePathname)();return t.jsx("div",{className:"sidebar -dashboard",children:[{id:1,icon:"/img/dashboard/sidebar/compass.svg",name:"Dashboard",routePath:"/dashboard/db-dashboard"},{id:2,icon:"/img/dashboard/sidebar/booking.svg",name:" Booking History",routePath:"/dashboard/db-booking"},{id:3,icon:"/img/dashboard/sidebar/gear.svg",name:" Settings",routePath:"/dashboard/db-settings"},{id:4,icon:"/img/dashboard/sidebar/log-out.svg",name:" Logout",routePath:"/login"}].map(a=>t.jsx("div",{className:"sidebar__item",children:t.jsx("div",{className:`${(0,i.H_)(a.routePath,e)?"-is-active":""} sidebar__button `,children:(0,t.jsxs)(l.default,{href:a.routePath,className:"d-flex items-center text-15 lh-1 fw-500",children:[t.jsx(r.default,{width:20,height:20,src:a.icon,alt:"image",className:"mr-15"}),a.name]})})},a.id))})}},9764:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var t=s(5344),r=s(3729);let l=()=>{let[e,a]=(0,r.useState)(1),s=e=>{a(e)},l=(e,a=!1)=>{let r=`size-40 flex-center rounded-full cursor-pointer ${a?"bg-dark-1 text-white":""}`;return t.jsx("div",{className:"col-auto",children:t.jsx("div",{className:r,onClick:()=>s(e),children:e})},e)},i=()=>{let a=[];for(let e=1;e<=5;e++)a.push(e);return a.map(a=>l(a,a===e))};return t.jsx("div",{className:"border-top-light mt-30 pt-30",children:(0,t.jsxs)("div",{className:"row x-gap-10 y-gap-20 justify-between md:justify-center",children:[t.jsx("div",{className:"col-auto md:order-1",children:t.jsx("button",{className:"button -blue-1 size-40 rounded-full border-light",children:t.jsx("i",{className:"icon-chevron-left text-12"})})}),(0,t.jsxs)("div",{className:"col-md-auto md:order-3",children:[(0,t.jsxs)("div",{className:"row x-gap-20 y-gap-20 items-center md:d-none",children:[i(),t.jsx("div",{className:"col-auto",children:t.jsx("div",{className:"size-40 flex-center rounded-full",children:"..."})}),t.jsx("div",{className:"col-auto",children:t.jsx("div",{className:"size-40 flex-center rounded-full",children:"20"})})]}),t.jsx("div",{className:"row x-gap-10 y-gap-20 justify-center items-center d-none md:d-flex",children:i()})]}),t.jsx("div",{className:"col-auto md:order-2",children:t.jsx("button",{className:"button -blue-1 size-40 rounded-full border-light",children:t.jsx("i",{className:"icon-chevron-right text-12"})})})]})})},i=()=>{let[e,a]=(0,r.useState)("all"),s=e=>{a(e)},l=[{label:"All",value:"all"},{label:"Details",value:"details"},{label:"Invoice",value:"invoice"},{label:"Confirm",value:"confirm"},{label:"Cancel",value:"cancel"}];return(0,t.jsxs)("div",{className:"dropdown js-dropdown js-actions-1-active",children:[(0,t.jsxs)("div",{className:"dropdown__button d-flex items-center rounded-4 text-blue-1 bg-blue-1-05 text-14 px-15 py-5","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false","data-bs-offset":"0,10",children:[t.jsx("span",{className:"js-dropdown-title",children:"all"===e?"Actions":l.find(a=>a.value===e)?.label}),t.jsx("i",{className:"icon icon-chevron-sm-down text-7 ml-10"})]}),t.jsx("div",{className:"toggle-element -dropdown-2 js-click-dropdown dropdown-menu",children:t.jsx("div",{className:"text-14 fw-500 js-dropdown-list",children:l.map(a=>t.jsx("div",{children:t.jsx("button",{className:`d-block js-dropdown-link ${e===a.value?"text-blue-1":""}`,onClick:()=>s(a.value),children:a.label})},a.value))})})]})},n=()=>{let[e,a]=(0,r.useState)(0),[s,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),c=e=>{a(e)};return((0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){console.error("No token found in localStorage"),d(!1);return}try{let a=await fetch("https://amadeus-backend.onrender.com/flight/booking",{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw Error(`HTTP error! Status: ${a.status}`);let s=await a.json();n(s)}catch(e){console.error("Error fetching bookings:",e)}finally{d(!1)}})()},[]),o)?t.jsx("div",{children:"Loading..."}):0===s.length?t.jsx("div",{children:"No bookings available."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"tabs -underline-2 js-tabs",children:[t.jsx("div",{className:"tabs__controls row x-gap-40 y-gap-10 lg:x-gap-20 js-tabs-controls",children:["All Booking","Completed","Processing","Confirmed","Cancelled","Paid","Unpaid","Partial Payment"].map((a,s)=>t.jsx("div",{className:"col-auto",children:t.jsx("button",{className:`tabs__button text-18 lg:text-16 text-light-1 fw-500 pb-5 lg:pb-0 js-tabs-button ${e===s?"is-tab-el-active":""}`,onClick:()=>c(s),children:a})},s))}),t.jsx("div",{className:"tabs__content pt-30 js-tabs-content",children:t.jsx("div",{className:"tabs__pane -tab-item-1 is-tab-el-active",children:t.jsx("div",{className:"overflow-scroll scroll-bar-1",children:(0,t.jsxs)("table",{className:"table-3 -border-bottom col-12",children:[t.jsx("thead",{className:"bg-light-2",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Title"}),t.jsx("th",{children:"Order Date"}),t.jsx("th",{children:"Execution Time"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Paid"}),t.jsx("th",{children:"Remain"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Action"})]})}),t.jsx("tbody",{children:s.map(e=>{let{_id:a,details:{data:{flightOffers:s,associatedRecords:r}},createdAt:l}=e,{itineraries:n,price:{currency:o,total:d}}=s[0],{reference:c}=r[0],h=n[0].segments.map(e=>`Departure: ${new Date(e.departure.at).toLocaleString()}
Arrival: ${new Date(e.arrival.at).toLocaleString()}`).join("\n");return(0,t.jsxs)("tr",{children:[t.jsx("td",{children:"Flight"}),t.jsx("td",{children:c}),t.jsx("td",{children:new Date(l).toLocaleDateString()}),t.jsx("td",{className:"lh-16",style:{whiteSpace:"pre-line"},children:h}),(0,t.jsxs)("td",{className:"fw-500",children:[o," ",d]}),(0,t.jsxs)("td",{children:[o," 0"]}),(0,t.jsxs)("td",{children:[o," ",d]}),t.jsx("td",{children:t.jsx("span",{className:"rounded-100 py-4 px-10 text-center text-14 fw-500 bg-yellow-4 text-yellow-3",children:"Pending"})}),t.jsx("td",{children:t.jsx(i,{})})]},a)})})]})})})})]}),t.jsx(l,{})]})}},5576:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x,metadata:()=>m});var t=s(5036);s(2);var r=s(1317),l=s(2480),i=s(3628);let n=(0,s(6843).createProxy)(String.raw`/Users/mohammadshahansha/Downloads/flight-booking-template/components/dashboard/dashboard/db-booking/components/BookingTable.jsx`),{__esModule:o,$$typeof:d}=n,c=n.default,h=()=>(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"header-margin"}),t.jsx(l.ZP,{}),(0,t.jsxs)("div",{className:"dashboard",children:[t.jsx("div",{className:"dashboard__sidebar bg-white scroll-bar-1",children:t.jsx(r.ZP,{})}),t.jsx("div",{className:"dashboard__main",children:(0,t.jsxs)("div",{className:"dashboard__content bg-light-2",children:[t.jsx("div",{className:"row y-gap-20 justify-between items-end pb-60 lg:pb-40 md:pb-32",children:(0,t.jsxs)("div",{className:"col-12",children:[t.jsx("h1",{className:"text-30 lh-14 fw-600",children:"Booking History"}),t.jsx("div",{className:"text-15 text-light-1",children:"Lorem ipsum dolor sit amet, consectetur."})]})}),t.jsx("div",{className:"py-30 px-30 rounded-4 bg-white shadow-3",children:t.jsx(c,{})}),t.jsx(i.Z,{})]})})]})]}),m={title:"Booking History || GoTrip - Travel & Tour React NextJS Template",description:"GoTrip - Travel & Tour React NextJS Template"};function x(){return t.jsx(t.Fragment,{children:t.jsx(h,{})})}},3628:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});var t=s(5036);s(2);let r=function(){return t.jsx("footer",{className:"footer -dashboard mt-60",children:(0,t.jsxs)("div",{className:"footer__row row y-gap-10 items-center justify-between",children:[t.jsx("div",{className:"col-auto",children:t.jsx("div",{className:"row y-gap-20 items-center",children:t.jsx("div",{className:"col-auto",children:t.jsx("div",{className:"row x-gap-20 y-gap-10 items-center text-14",children:[{label:"Privacy",url:"#"},{label:"Terms",url:"#"},{label:"Site Map",url:"#"}].map((e,a)=>t.jsx("div",{className:"col-auto",children:t.jsx("a",{href:e.url,className:"text-13 lh-1",children:e.label})},a))})})})}),t.jsx("div",{className:"col-auto",children:(0,t.jsxs)("div",{className:"d-flex x-gap-5 y-gap-5 items-center",children:[t.jsx("button",{className:"text-14 fw-500 underline",children:"English (US)"}),t.jsx("button",{className:"text-14 fw-500 underline",children:"USD"})]})})]})})}},1317:(e,a,s)=>{"use strict";s.d(a,{ZP:()=>i});let t=(0,s(6843).createProxy)(String.raw`/Users/mohammadshahansha/Downloads/flight-booking-template/components/dashboard/dashboard/common/Sidebar.jsx`),{__esModule:r,$$typeof:l}=t,i=t.default}};var a=require("../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[638,968,410,818],()=>s(2833));module.exports=t})();