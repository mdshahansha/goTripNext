(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{7347:function(e,t,l){Promise.resolve().then(l.bind(l,6462)),Promise.resolve().then(l.bind(l,2555)),Promise.resolve().then(l.bind(l,4745))},2555:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return i}});var s=l(3827),a=l(4090),n=()=>{let[e,t]=(0,a.useState)(1),l=e=>{t(e)},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("div",{className:"size-40 flex-center rounded-full cursor-pointer ".concat(t?"bg-dark-1 text-white":""),onClick:()=>l(e),children:e})},e)},r=()=>{let t=[];for(let e=1;e<=5;e++)t.push(e);return t.map(t=>n(t,t===e))};return(0,s.jsx)("div",{className:"border-top-light mt-30 pt-30",children:(0,s.jsxs)("div",{className:"row x-gap-10 y-gap-20 justify-between md:justify-center",children:[(0,s.jsx)("div",{className:"col-auto md:order-1",children:(0,s.jsx)("button",{className:"button -blue-1 size-40 rounded-full border-light",children:(0,s.jsx)("i",{className:"icon-chevron-left text-12"})})}),(0,s.jsxs)("div",{className:"col-md-auto md:order-3",children:[(0,s.jsxs)("div",{className:"row x-gap-20 y-gap-20 items-center md:d-none",children:[r(),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("div",{className:"size-40 flex-center rounded-full",children:"..."})}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("div",{className:"size-40 flex-center rounded-full",children:"20"})})]}),(0,s.jsx)("div",{className:"row x-gap-10 y-gap-20 justify-center items-center d-none md:d-flex",children:r()})]}),(0,s.jsx)("div",{className:"col-auto md:order-2",children:(0,s.jsx)("button",{className:"button -blue-1 size-40 rounded-full border-light",children:(0,s.jsx)("i",{className:"icon-chevron-right text-12"})})})]})})},r=()=>{var e;let[t,l]=(0,a.useState)("all"),n=e=>{l(e)},r=[{label:"All",value:"all"},{label:"Details",value:"details"},{label:"Invoice",value:"invoice"},{label:"Confirm",value:"confirm"},{label:"Cancel",value:"cancel"}];return(0,s.jsxs)("div",{className:"dropdown js-dropdown js-actions-1-active",children:[(0,s.jsxs)("div",{className:"dropdown__button d-flex items-center rounded-4 text-blue-1 bg-blue-1-05 text-14 px-15 py-5","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false","data-bs-offset":"0,10",children:[(0,s.jsx)("span",{className:"js-dropdown-title",children:"all"===t?"Actions":null===(e=r.find(e=>e.value===t))||void 0===e?void 0:e.label}),(0,s.jsx)("i",{className:"icon icon-chevron-sm-down text-7 ml-10"})]}),(0,s.jsx)("div",{className:"toggle-element -dropdown-2 js-click-dropdown dropdown-menu",children:(0,s.jsx)("div",{className:"text-14 fw-500 js-dropdown-list",children:r.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"d-block js-dropdown-link ".concat(t===e.value?"text-blue-1":""),onClick:()=>n(e.value),children:e.label})},e.value))})})]})},i=()=>{let[e,t]=(0,a.useState)(0),[l,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),o=e=>{t(e)};return((0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){console.error("No token found in localStorage"),d(!1);return}try{let t=await fetch("https://amadeus-backend.onrender.com/flight/booking",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));let l=await t.json();i(l)}catch(e){console.error("Error fetching bookings:",e)}finally{d(!1)}})()},[]),c)?(0,s.jsx)("div",{children:"Loading..."}):0===l.length?(0,s.jsx)("div",{children:"No bookings available."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"tabs -underline-2 js-tabs",children:[(0,s.jsx)("div",{className:"tabs__controls row x-gap-40 y-gap-10 lg:x-gap-20 js-tabs-controls",children:["All Booking","Completed","Processing","Confirmed","Cancelled","Paid","Unpaid","Partial Payment"].map((t,l)=>(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("button",{className:"tabs__button text-18 lg:text-16 text-light-1 fw-500 pb-5 lg:pb-0 js-tabs-button ".concat(e===l?"is-tab-el-active":""),onClick:()=>o(l),children:t})},l))}),(0,s.jsx)("div",{className:"tabs__content pt-30 js-tabs-content",children:(0,s.jsx)("div",{className:"tabs__pane -tab-item-1 is-tab-el-active",children:(0,s.jsx)("div",{className:"overflow-scroll scroll-bar-1",children:(0,s.jsxs)("table",{className:"table-3 -border-bottom col-12",children:[(0,s.jsx)("thead",{className:"bg-light-2",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Title"}),(0,s.jsx)("th",{children:"Order Date"}),(0,s.jsx)("th",{children:"Execution Time"}),(0,s.jsx)("th",{children:"Total"}),(0,s.jsx)("th",{children:"Paid"}),(0,s.jsx)("th",{children:"Remain"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:l.map(e=>{let{_id:t,details:{data:{flightOffers:l,associatedRecords:a}},createdAt:n}=e,{itineraries:i,price:{currency:c,total:d}}=l[0],{reference:o}=a[0],h=i[0].segments.map(e=>"Departure: ".concat(new Date(e.departure.at).toLocaleString(),"\nArrival: ").concat(new Date(e.arrival.at).toLocaleString())).join("\n");return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Flight"}),(0,s.jsx)("td",{children:o}),(0,s.jsx)("td",{children:new Date(n).toLocaleDateString()}),(0,s.jsx)("td",{className:"lh-16",style:{whiteSpace:"pre-line"},children:h}),(0,s.jsxs)("td",{className:"fw-500",children:[c," ",d]}),(0,s.jsxs)("td",{children:[c," 0"]}),(0,s.jsxs)("td",{children:[c," ",d]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"rounded-100 py-4 px-10 text-center text-14 fw-500 bg-yellow-4 text-yellow-3",children:"Pending"})}),(0,s.jsx)("td",{children:(0,s.jsx)(r,{})})]},t)})})]})})})})]}),(0,s.jsx)(n,{})]})}}},function(e){e.O(0,[805,901,703,370,971,69,744],function(){return e(e.s=7347)}),_N_E=e.O()}]);